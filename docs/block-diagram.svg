<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#000">DEFCON SSTV Badge - Block Diagram</text>
  
  <!-- Power Management Section -->
  <rect x="20" y="60" width="200" height="120" fill="#FFE6E6" stroke="#000" stroke-width="2"/>
  <text x="120" y="80" text-anchor="middle" font-weight="bold">Power Management</text>
  <text x="25" y="100" font-size="12">2000mAh LiPo Battery</text>
  <text x="25" y="115" font-size="12">USB-C Charging (MCP73871)</text>
  <text x="25" y="130" font-size="12">3.3V LDO (AMS1117-3.3)</text>
  <text x="25" y="145" font-size="12">Battery Monitor (LC709203F)</text>
  <text x="25" y="160" font-size="12">Power/Charge LEDs</text>
  
  <!-- Main MCU -->
  <rect x="280" y="60" width="200" height="160" fill="#E6F3FF" stroke="#000" stroke-width="2"/>
  <text x="380" y="80" text-anchor="middle" font-weight="bold">Raspberry Pi RP2350</text>
  <text x="285" y="100" font-size="12">Dual ARM Cortex-M33</text>
  <text x="285" y="115" font-size="12">264KB SRAM</text>
  <text x="285" y="130" font-size="12">SPI, I2C, UART interfaces</text>
  <text x="285" y="145" font-size="12">PWM, ADC</text>
  <text x="285" y="160" font-size="12">Core 0: UI & System</text>
  <text x="285" y="175" font-size="12">Core 1: SSTV Processing</text>
  <text x="285" y="190" font-size="12">GPIO for controls</text>
  <text x="285" y="205" font-size="12">Boot: SPI Flash (16MB)</text>
  
  <!-- Storage -->
  <rect x="540" y="60" width="160" height="80" fill="#E6FFE6" stroke="#000" stroke-width="2"/>
  <text x="620" y="80" text-anchor="middle" font-weight="bold">Storage</text>
  <text x="545" y="100" font-size="12">MicroSD Card Slot</text>
  <text x="545" y="115" font-size="12">SPI Interface</text>
  <text x="545" y="130" font-size="12">Image Storage</text>
  
  <!-- Display -->
  <rect x="540" y="160" width="160" height="100" fill="#FFF0E6" stroke="#000" stroke-width="2"/>
  <text x="620" y="180" text-anchor="middle" font-weight="bold">Display</text>
  <text x="545" y="200" font-size="12">2.4" TFT LCD</text>
  <text x="545" y="215" font-size="12">240x320 Color</text>
  <text x="545" y="230" font-size="12">SPI Interface</text>
  <text x="545" y="245" font-size="12">ST7789 Controller</text>
  
  <!-- Camera -->
  <rect x="540" y="280" width="160" height="80" fill="#F0E6FF" stroke="#000" stroke-width="2"/>
  <text x="620" y="300" text-anchor="middle" font-weight="bold">Camera</text>
  <text x="545" y="320" font-size="12">OV2640 2MP</text>
  <text x="545" y="335" font-size="12">DVP Interface</text>
  <text x="545" y="350" font-size="12">JPEG Output</text>
  
  <!-- SA818 Transceiver -->
  <rect x="750" y="60" width="180" height="140" fill="#FFE6F0" stroke="#000" stroke-width="2"/>
  <text x="840" y="80" text-anchor="middle" font-weight="bold">SA818 Transceiver</text>
  <text x="755" y="100" font-size="12">VHF: 134-174MHz</text>
  <text x="755" y="115" font-size="12">UHF: 400-480MHz</text>
  <text x="755" y="130" font-size="12">1W Output Power</text>
  <text x="755" y="145" font-size="12">UART Control</text>
  <text x="755" y="160" font-size="12">Audio In/Out</text>
  <text x="755" y="175" font-size="12">Socket Mounted</text>
  <text x="755" y="190" font-size="12">Band Select DIP Switch</text>
  
  <!-- Audio Processing -->
  <rect x="750" y="220" width="180" height="100" fill="#E6FFE6" stroke="#000" stroke-width="2"/>
  <text x="840" y="240" text-anchor="middle" font-weight="bold">Audio Processing</text>
  <text x="755" y="260" font-size="12">Audio Codec (WM8960)</text>
  <text x="755" y="275" font-size="12">ADC/DAC for SSTV</text>
  <text x="755" y="290" font-size="12">Speaker Driver</text>
  <text x="755" y="305" font-size="12">Mute Switch</text>
  
  <!-- Antenna -->
  <rect x="980" y="60" width="120" height="80" fill="#F5F5F5" stroke="#000" stroke-width="2"/>
  <text x="1040" y="80" text-anchor="middle" font-weight="bold">RF Front End</text>
  <text x="985" y="100" font-size="12">SMA Connector</text>
  <text x="985" y="115" font-size="12">Antenna</text>
  <text x="985" y="130" font-size="12">TX/RX LED</text>
  
  <!-- User Interface -->
  <rect x="280" y="280" width="200" height="160" fill="#F0F0F0" stroke="#000" stroke-width="2"/>
  <text x="380" y="300" text-anchor="middle" font-weight="bold">User Interface</text>
  <text x="285" y="320" font-size="12">Photo Snap Button</text>
  <text x="285" y="335" font-size="12">D-Pad (4-way + Center)</text>
  <text x="285" y="350" font-size="12">Airplane Mode Switch</text>
  <text x="285" y="365" font-size="12">Audio Mute Switch</text>
  <text x="285" y="380" font-size="12">Band Select DIP Switch</text>
  <text x="285" y="395" font-size="12">Status LEDs:</text>
  <text x="290" y="410" font-size="11">  • Power • Charge • TX • RX</text>
  <text x="290" y="425" font-size="11">  • SD Card • Camera</text>
  
  <!-- SAO Ports -->
  <rect x="980" y="160" width="120" height="80" fill="#FFE6E6" stroke="#000" stroke-width="2"/>
  <text x="1040" y="180" text-anchor="middle" font-weight="bold">SAO Ports</text>
  <text x="985" y="200" font-size="12">2x SAO Connectors</text>
  <text x="985" y="215" font-size="12">I2C + Power</text>
  <text x="985" y="230" font-size="12">"TV Antenna" Style</text>
  
  <!-- Connection Lines -->
  <!-- Power to MCU -->
  <line x1="220" y1="120" x2="280" y2="120" stroke="#FF0000" stroke-width="2"/>
  <text x="250" y="115" font-size="10" fill="#FF0000">3.3V</text>
  
  <!-- MCU to Storage -->
  <line x1="480" y1="100" x2="540" y2="100" stroke="#0000FF" stroke-width="2"/>
  <text x="510" y="95" font-size="10" fill="#0000FF">SPI</text>
  
  <!-- MCU to Display -->
  <line x1="480" y1="140" x2="540" y2="210" stroke="#0000FF" stroke-width="2"/>
  <text x="510" y="175" font-size="10" fill="#0000FF">SPI</text>
  
  <!-- MCU to Camera -->
  <line x1="480" y1="180" x2="540" y2="320" stroke="#00AA00" stroke-width="2"/>
  <text x="510" y="250" font-size="10" fill="#00AA00">DVP</text>
  
  <!-- MCU to SA818 -->
  <line x1="480" y1="120" x2="750" y2="130" stroke="#AA00AA" stroke-width="2"/>
  <text x="615" y="115" font-size="10" fill="#AA00AA">UART</text>
  
  <!-- MCU to Audio -->
  <line x1="480" y1="160" x2="750" y2="270" stroke="#00AAAA" stroke-width="2"/>
  <text x="615" y="215" font-size="10" fill="#00AAAA">I2S</text>
  
  <!-- SA818 to Audio -->
  <line x1="840" y1="200" x2="840" y2="220" stroke="#666666" stroke-width="2"/>
  <text x="845" y="210" font-size="10">Audio</text>
  
  <!-- SA818 to Antenna -->
  <line x1="930" y1="120" x2="980" y2="100" stroke="#000000" stroke-width="3"/>
  <text x="955" y="105" font-size="10">RF</text>
  
  <!-- MCU to UI -->
  <line x1="380" y1="220" x2="380" y2="280" stroke="#666666" stroke-width="2"/>
  <text x="385" y="250" font-size="10">GPIO</text>
  
  <!-- MCU to SAO -->
  <line x1="480" y1="140" x2="980" y2="200" stroke="#FF6600" stroke-width="2"/>
  <text x="730" y="170" font-size="10" fill="#FF6600">I2C</text>
  
  <!-- Functional Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000"/>
    </marker>
  </defs>
  
  <!-- Data Flow Legend -->
  <rect x="20" y="480" width="1160" height="120" fill="#F9F9F9" stroke="#000" stroke-width="1"/>
  <text x="30" y="500" font-weight="bold">Signal Flow Summary:</text>
  <text x="30" y="520" font-size="12">1. Camera captures image → RP2350 processes → overlay callsign → encode SSTV</text>
  <text x="30" y="535" font-size="12">2. RP2350 → Audio Codec → SA818 → Antenna (TX)</text>
  <text x="30" y="550" font-size="12">3. Antenna → SA818 → Audio Codec → RP2350 → decode SSTV → Display/SD storage (RX)</text>
  <text x="30" y="565" font-size="12">4. User controls via D-pad and buttons → RP2350 → Display feedback</text>
  <text x="30" y="580" font-size="12">5. SAO ports provide I2C expansion capability for add-ons</text>
  
</svg>